import{c as W,g as J,j as o,r as b,L as K}from"./app-CZKEO1x-.js";var k={exports:{}},X=k.exports,G;function V(){return G||(G=1,function(y,p){(function(m,u){y.exports=u(m)})(typeof W<"u"?W:window||X.window||X.global,function(m){var u={},i="iziToast";document.querySelector("body");var h=!!/Mobi/.test(navigator.userAgent),g=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),j=typeof InstallTrigger<"u",x="ontouchstart"in document.documentElement,C=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],I={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},O=568,T={};u.children={};var z={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof window.CustomEvent!="function"){var D=function(a,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");return e.initCustomEvent(a,n.bubbles,n.cancelable,n.detail),e};D.prototype=window.Event.prototype,window.CustomEvent=D}var v=function(a,n,e){if(Object.prototype.toString.call(a)==="[object Object]")for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&n.call(e,a[t],t,a);else if(a)for(var r=0,d=a.length;r<d;r++)n.call(e,a[r],r,a)},w=function(a,n){var e={};return v(a,function(t,r){e[r]=a[r]}),v(n,function(t,r){e[r]=n[r]}),e},B=function(a){var n=document.createDocumentFragment(),e=document.createElement("div");for(e.innerHTML=a;e.firstChild;)n.appendChild(e.firstChild);return n},R=function(a){var n=btoa(encodeURIComponent(a));return n.replace(/=/g,"")},A=function(a){return a.substring(0,1)=="#"||a.substring(0,3)=="rgb"||a.substring(0,3)=="hsl"},F=function(a){try{return btoa(atob(a))==a}catch{return!1}},S=function(){return{move:function(a,n,e,t){var r,d=.3,s=180;t!==0&&(a.classList.add(i+"-dragged"),a.style.transform="translateX("+t+"px)",t>0?(r=(s-t)/s,r<d&&n.hide(w(e,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),a,"drag")):(r=(s+t)/s,r<d&&n.hide(w(e,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),a,"drag")),a.style.opacity=r,r<d&&((g||j)&&(a.style.left=t+"px"),a.parentNode.style.opacity=d,this.stopMoving(a,null)))},startMoving:function(a,n,e,t){t=t||window.event;var r=x?t.touches[0].clientX:t.clientX,d=a.style.transform.replace("px)","");d=d.replace("translateX(","");var s=r-d;e.transitionIn&&a.classList.remove(e.transitionIn),e.transitionInMobile&&a.classList.remove(e.transitionInMobile),a.style.transition="",x?document.ontouchmove=function(l){l.preventDefault(),l=l||window.event;var c=l.touches[0].clientX,f=c-s;S.move(a,n,e,f)}:document.onmousemove=function(l){l.preventDefault(),l=l||window.event;var c=l.clientX,f=c-s;S.move(a,n,e,f)}},stopMoving:function(a,n){x?document.ontouchmove=function(){}:document.onmousemove=function(){},a.style.opacity="",a.style.transform="",a.classList.contains(i+"-dragged")&&(a.classList.remove(i+"-dragged"),a.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){a.style.transition=""},400))}}}();return u.setSetting=function(a,n,e){u.children[a][n]=e},u.getSetting=function(a,n){return u.children[a][n]},u.destroy=function(){v(document.querySelectorAll("."+i+"-overlay"),function(a,n){a.remove()}),v(document.querySelectorAll("."+i+"-wrapper"),function(a,n){a.remove()}),v(document.querySelectorAll("."+i),function(a,n){a.remove()}),this.children={},document.removeEventListener(i+"-opened",{},!1),document.removeEventListener(i+"-opening",{},!1),document.removeEventListener(i+"-closing",{},!1),document.removeEventListener(i+"-closed",{},!1),document.removeEventListener("keyup",{},!1),T={}},u.settings=function(a){u.destroy(),T=a,z=w(z,a||{})},v(I,function(a,n){u[n]=function(e){var t=w(T,e||{});t=w(a,t||{}),this.show(t)}}),u.progress=function(a,n,e){var t=this,r=n.getAttribute("data-iziToast-ref"),d=w(this.children[r],a||{}),s=n.querySelector("."+i+"-progressbar div");return{start:function(){typeof d.time.REMAINING>"u"&&(n.classList.remove(i+"-reseted"),s!==null&&(s.style.transition="width "+d.timeout+"ms "+d.progressBarEasing,s.style.width="0%"),d.time.START=new Date().getTime(),d.time.END=d.time.START+d.timeout,d.time.TIMER=setTimeout(function(){clearTimeout(d.time.TIMER),n.classList.contains(i+"-closing")||(t.hide(d,n,"timeout"),typeof e=="function"&&e.apply(t))},d.timeout),t.setSetting(r,"time",d.time))},pause:function(){if(typeof d.time.START<"u"&&!n.classList.contains(i+"-paused")&&!n.classList.contains(i+"-reseted")){if(n.classList.add(i+"-paused"),d.time.REMAINING=d.time.END-new Date().getTime(),clearTimeout(d.time.TIMER),t.setSetting(r,"time",d.time),s!==null){var l=window.getComputedStyle(s),c=l.getPropertyValue("width");s.style.transition="none",s.style.width=c}typeof e=="function"&&setTimeout(function(){e.apply(t)},10)}},resume:function(){typeof d.time.REMAINING<"u"?(n.classList.remove(i+"-paused"),s!==null&&(s.style.transition="width "+d.time.REMAINING+"ms "+d.progressBarEasing,s.style.width="0%"),d.time.END=new Date().getTime()+d.time.REMAINING,d.time.TIMER=setTimeout(function(){clearTimeout(d.time.TIMER),n.classList.contains(i+"-closing")||(t.hide(d,n,"timeout"),typeof e=="function"&&e.apply(t))},d.time.REMAINING),t.setSetting(r,"time",d.time)):this.start()},reset:function(){clearTimeout(d.time.TIMER),delete d.time.REMAINING,t.setSetting(r,"time",d.time),n.classList.add(i+"-reseted"),n.classList.remove(i+"-paused"),s!==null&&(s.style.transition="none",s.style.width="100%"),typeof e=="function"&&setTimeout(function(){e.apply(t)},10)}}},u.hide=function(a,n,e){typeof n!="object"&&(n=document.querySelector(n));var t=this,r=w(this.children[n.getAttribute("data-iziToast-ref")],a||{});r.closedBy=e||null,delete r.time.REMAINING,n.classList.add(i+"-closing"),function(){var l=document.querySelector("."+i+"-overlay");if(l!==null){var c=l.getAttribute("data-iziToast-ref");c=c.split(",");var f=c.indexOf(String(r.ref));f!==-1&&c.splice(f,1),l.setAttribute("data-iziToast-ref",c.join()),c.length===0&&(l.classList.remove("fadeIn"),l.classList.add("fadeOut"),setTimeout(function(){l.remove()},700))}}(),r.transitionIn&&n.classList.remove(r.transitionIn),r.transitionInMobile&&n.classList.remove(r.transitionInMobile),h||window.innerWidth<=O?r.transitionOutMobile&&n.classList.add(r.transitionOutMobile):r.transitionOut&&n.classList.add(r.transitionOut);var d=n.parentNode.offsetHeight;n.parentNode.style.height=d+"px",n.style.pointerEvents="none",(!h||window.innerWidth>O)&&(n.parentNode.style.transitionDelay="0.2s");try{var s=new CustomEvent(i+"-closing",{detail:r,bubbles:!0,cancelable:!0});document.dispatchEvent(s)}catch(l){console.warn(l)}setTimeout(function(){n.parentNode.style.height="0px",n.parentNode.style.overflow="",setTimeout(function(){delete t.children[r.ref],n.parentNode.remove();try{var l=new CustomEvent(i+"-closed",{detail:r,bubbles:!0,cancelable:!0});document.dispatchEvent(l)}catch(c){console.warn(c)}typeof r.onClosed<"u"&&r.onClosed.apply(null,[r,n,e])},1e3)},200),typeof r.onClosing<"u"&&r.onClosing.apply(null,[r,n,e])},u.show=function(a){var n=this,e=w(T,a||{});if(e=w(z,e),e.time={},e.id===null&&(e.id=R(e.title+e.message+e.color)),e.displayMode===1||e.displayMode=="once")try{if(document.querySelectorAll("."+i+"#"+e.id).length>0)return!1}catch{console.warn("["+i+"] Could not find an element with this selector: #"+e.id+". Try to set an valid id.")}if(e.displayMode===2||e.displayMode=="replace")try{v(document.querySelectorAll("."+i+"#"+e.id),function(s,l){n.hide(e,s,"replaced")})}catch{console.warn("["+i+"] Could not find an element with this selector: #"+e.id+". Try to set an valid id.")}e.ref=new Date().getTime()+Math.floor(Math.random()*1e7+1),u.children[e.ref]=e;var t={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:e.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};t.toast.setAttribute("data-iziToast-ref",e.ref),t.toast.appendChild(t.toastBody),t.toastCapsule.appendChild(t.toast),function(){if(t.toast.classList.add(i),t.toast.classList.add(i+"-opening"),t.toastCapsule.classList.add(i+"-capsule"),t.toastBody.classList.add(i+"-body"),t.toastTexts.classList.add(i+"-texts"),h||window.innerWidth<=O?e.transitionInMobile&&t.toast.classList.add(e.transitionInMobile):e.transitionIn&&t.toast.classList.add(e.transitionIn),e.class){var s=e.class.split(" ");v(s,function(l,c){t.toast.classList.add(l)})}e.id&&(t.toast.id=e.id),e.rtl&&(t.toast.classList.add(i+"-rtl"),t.toast.setAttribute("dir","rtl")),e.layout>1&&t.toast.classList.add(i+"-layout"+e.layout),e.balloon&&t.toast.classList.add(i+"-balloon"),e.maxWidth&&(isNaN(e.maxWidth)?t.toast.style.maxWidth=e.maxWidth:t.toast.style.maxWidth=e.maxWidth+"px"),(e.theme!==""||e.theme!=="light")&&t.toast.classList.add(i+"-theme-"+e.theme),e.color&&(A(e.color)?t.toast.style.background=e.color:t.toast.classList.add(i+"-color-"+e.color)),e.backgroundColor&&(t.toast.style.background=e.backgroundColor,e.balloon&&(t.toast.style.borderColor=e.backgroundColor))}(),function(){e.image&&(t.cover.classList.add(i+"-cover"),t.cover.style.width=e.imageWidth+"px",F(e.image.replace(/ /g,""))?t.cover.style.backgroundImage="url(data:image/png;base64,"+e.image.replace(/ /g,"")+")":t.cover.style.backgroundImage="url("+e.image+")",e.rtl?t.toastBody.style.marginRight=e.imageWidth+10+"px":t.toastBody.style.marginLeft=e.imageWidth+10+"px",t.toast.appendChild(t.cover))}(),function(){e.close?(t.buttonClose=document.createElement("button"),t.buttonClose.type="button",t.buttonClose.classList.add(i+"-close"),t.buttonClose.addEventListener("click",function(s){s.target,n.hide(e,t.toast,"button")}),t.toast.appendChild(t.buttonClose)):e.rtl?t.toast.style.paddingLeft="18px":t.toast.style.paddingRight="18px"}(),function(){e.progressBar&&(t.progressBar=document.createElement("div"),t.progressBarDiv=document.createElement("div"),t.progressBar.classList.add(i+"-progressbar"),t.progressBarDiv.style.background=e.progressBarColor,t.progressBar.appendChild(t.progressBarDiv),t.toast.appendChild(t.progressBar)),e.timeout&&(e.pauseOnHover&&!e.resetOnHover&&(t.toast.addEventListener("mouseenter",function(s){n.progress(e,t.toast).pause()}),t.toast.addEventListener("mouseleave",function(s){n.progress(e,t.toast).resume()})),e.resetOnHover&&(t.toast.addEventListener("mouseenter",function(s){n.progress(e,t.toast).reset()}),t.toast.addEventListener("mouseleave",function(s){n.progress(e,t.toast).start()})))}(),function(){e.iconUrl?(t.icon.setAttribute("class",i+"-icon"),t.icon.setAttribute("src",e.iconUrl)):e.icon&&(t.icon.setAttribute("class",i+"-icon "+e.icon),e.iconText&&t.icon.appendChild(document.createTextNode(e.iconText)),e.iconColor&&(t.icon.style.color=e.iconColor)),(e.icon||e.iconUrl)&&(e.rtl?t.toastBody.style.paddingRight="33px":t.toastBody.style.paddingLeft="33px",t.toastBody.appendChild(t.icon))}(),function(){e.title.length>0&&(t.strong=document.createElement("strong"),t.strong.classList.add(i+"-title"),t.strong.appendChild(B(e.title)),t.toastTexts.appendChild(t.strong),e.titleColor&&(t.strong.style.color=e.titleColor),e.titleSize&&(isNaN(e.titleSize)?t.strong.style.fontSize=e.titleSize:t.strong.style.fontSize=e.titleSize+"px"),e.titleLineHeight&&(isNaN(e.titleSize)?t.strong.style.lineHeight=e.titleLineHeight:t.strong.style.lineHeight=e.titleLineHeight+"px")),e.message.length>0&&(t.p=document.createElement("p"),t.p.classList.add(i+"-message"),t.p.appendChild(B(e.message)),t.toastTexts.appendChild(t.p),e.messageColor&&(t.p.style.color=e.messageColor),e.messageSize&&(isNaN(e.titleSize)?t.p.style.fontSize=e.messageSize:t.p.style.fontSize=e.messageSize+"px"),e.messageLineHeight&&(isNaN(e.titleSize)?t.p.style.lineHeight=e.messageLineHeight:t.p.style.lineHeight=e.messageLineHeight+"px")),e.title.length>0&&e.message.length>0&&(e.rtl?t.strong.style.marginLeft="10px":e.layout!==2&&!e.rtl&&(t.strong.style.marginRight="10px"))}(),t.toastBody.appendChild(t.toastTexts);var r;(function(){e.inputs.length>0&&(t.inputs.classList.add(i+"-inputs"),v(e.inputs,function(s,l){t.inputs.appendChild(B(s[0])),r=t.inputs.childNodes,r[l].classList.add(i+"-inputs-child"),s[3]&&setTimeout(function(){r[l].focus()},300),r[l].addEventListener(s[1],function(c){var f=s[2];return f(n,t.toast,this,c)})}),t.toastBody.appendChild(t.inputs))})(),function(){e.buttons.length>0&&(t.buttons.classList.add(i+"-buttons"),v(e.buttons,function(s,l){t.buttons.appendChild(B(s[0]));var c=t.buttons.childNodes;c[l].classList.add(i+"-buttons-child"),s[2]&&setTimeout(function(){c[l].focus()},300),c[l].addEventListener("click",function(f){f.preventDefault();var q=s[1];return q(n,t.toast,this,f,r)})})),t.toastBody.appendChild(t.buttons)}(),e.message.length>0&&(e.inputs.length>0||e.buttons.length>0)&&(t.p.style.marginBottom="0"),(e.inputs.length>0||e.buttons.length>0)&&(e.rtl?t.toastTexts.style.marginLeft="10px":t.toastTexts.style.marginRight="10px",e.inputs.length>0&&e.buttons.length>0&&(e.rtl?t.inputs.style.marginLeft="8px":t.inputs.style.marginRight="8px")),function(){t.toastCapsule.style.visibility="hidden",setTimeout(function(){var s=t.toast.offsetHeight,l=t.toast.currentStyle||window.getComputedStyle(t.toast),c=l.marginTop;c=c.split("px"),c=parseInt(c[0]);var f=l.marginBottom;f=f.split("px"),f=parseInt(f[0]),t.toastCapsule.style.visibility="",t.toastCapsule.style.height=s+f+c+"px",setTimeout(function(){t.toastCapsule.style.height="auto",e.target&&(t.toastCapsule.style.overflow="visible")},500),e.timeout&&n.progress(e,t.toast).start()},100)}(),function(){var s=e.position;if(e.target)t.wrapper=document.querySelector(e.target),t.wrapper.classList.add(i+"-target"),e.targetFirst?t.wrapper.insertBefore(t.toastCapsule,t.wrapper.firstChild):t.wrapper.appendChild(t.toastCapsule);else{if(C.indexOf(e.position)==-1){console.warn("["+i+`] Incorrect position.
It can be › `+C);return}h||window.innerWidth<=O?e.position=="bottomLeft"||e.position=="bottomRight"||e.position=="bottomCenter"?s=i+"-wrapper-bottomCenter":e.position=="topLeft"||e.position=="topRight"||e.position=="topCenter"?s=i+"-wrapper-topCenter":s=i+"-wrapper-center":s=i+"-wrapper-"+s,t.wrapper=document.querySelector("."+i+"-wrapper."+s),t.wrapper||(t.wrapper=document.createElement("div"),t.wrapper.classList.add(i+"-wrapper"),t.wrapper.classList.add(s),document.body.appendChild(t.wrapper)),e.position=="topLeft"||e.position=="topCenter"||e.position=="topRight"?t.wrapper.insertBefore(t.toastCapsule,t.wrapper.firstChild):t.wrapper.appendChild(t.toastCapsule)}isNaN(e.zindex)?console.warn("["+i+"] Invalid zIndex."):t.wrapper.style.zIndex=e.zindex}(),function(){e.overlay&&(document.querySelector("."+i+"-overlay.fadeIn")!==null?(t.overlay=document.querySelector("."+i+"-overlay"),t.overlay.setAttribute("data-iziToast-ref",t.overlay.getAttribute("data-iziToast-ref")+","+e.ref),!isNaN(e.zindex)&&e.zindex!==null&&(t.overlay.style.zIndex=e.zindex-1)):(t.overlay.classList.add(i+"-overlay"),t.overlay.classList.add("fadeIn"),t.overlay.style.background=e.overlayColor,t.overlay.setAttribute("data-iziToast-ref",e.ref),!isNaN(e.zindex)&&e.zindex!==null&&(t.overlay.style.zIndex=e.zindex-1),document.querySelector("body").appendChild(t.overlay)),e.overlayClose?(t.overlay.removeEventListener("click",{}),t.overlay.addEventListener("click",function(s){n.hide(e,t.toast,"overlay")})):t.overlay.removeEventListener("click",{}))}(),function(){if(e.animateInside){t.toast.classList.add(i+"-animateInside");var s=[200,100,300];(e.transitionIn=="bounceInLeft"||e.transitionIn=="bounceInRight")&&(s=[400,200,400]),e.title.length>0&&setTimeout(function(){t.strong.classList.add("slideIn")},s[0]),e.message.length>0&&setTimeout(function(){t.p.classList.add("slideIn")},s[1]),(e.icon||e.iconUrl)&&setTimeout(function(){t.icon.classList.add("revealIn")},s[2]);var l=150;e.buttons.length>0&&t.buttons&&setTimeout(function(){v(t.buttons.childNodes,function(c,f){setTimeout(function(){c.classList.add("revealIn")},l),l=l+150})},e.inputs.length>0?150:0),e.inputs.length>0&&t.inputs&&(l=150,v(t.inputs.childNodes,function(c,f){setTimeout(function(){c.classList.add("revealIn")},l),l=l+150}))}}(),e.onOpening.apply(null,[e,t.toast]);try{var d=new CustomEvent(i+"-opening",{detail:e,bubbles:!0,cancelable:!0});document.dispatchEvent(d)}catch(s){console.warn(s)}setTimeout(function(){t.toast.classList.remove(i+"-opening"),t.toast.classList.add(i+"-opened");try{var s=new CustomEvent(i+"-opened",{detail:e,bubbles:!0,cancelable:!0});document.dispatchEvent(s)}catch(l){console.warn(l)}e.onOpened.apply(null,[e,t.toast])},1e3),e.drag&&(x?(t.toast.addEventListener("touchstart",function(s){S.startMoving(this,n,e,s)},!1),t.toast.addEventListener("touchend",function(s){S.stopMoving(this,s)},!1)):(t.toast.addEventListener("mousedown",function(s){s.preventDefault(),S.startMoving(this,n,e,s)},!1),t.toast.addEventListener("mouseup",function(s){s.preventDefault(),S.stopMoving(this,s)},!1))),e.closeOnEscape&&document.addEventListener("keyup",function(s){s=s||window.event,s.keyCode==27&&n.hide(e,t.toast,"esc")}),e.closeOnClick&&t.toast.addEventListener("click",function(s){n.hide(e,t.toast,"toast")}),n.toast=t.toast},u})}(k)),k.exports}var Z=V();const P=J(Z),Q=({handleSubmit:y,handleChange:p,formData:m,dynamicCategories:u,paymentTypes:i,handlePaymentTypeChange:h})=>o.jsx("div",{className:"bg-white p-8 xl:max-w-md w-full h-svh flex items-center",children:o.jsxs("div",{className:"w-full",children:[o.jsx("h2",{className:"text-2xl font-bold text-center text-gray-700 mb-6",children:"家計簿の入力"}),o.jsxs("form",{id:"dataForm",className:"space-y-4",onSubmit:y,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-600 text-sm font-medium mb-2",htmlFor:"date",children:"日付"}),o.jsx("input",{type:"date",name:"date",id:"date",value:m.date,onChange:p,className:"w-full p-2 border border-gray-300 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-600 text-sm font-medium mb-2",htmlFor:"item",children:"項目"}),o.jsx("select",{name:"payment_type_id",id:"item",onChange:h,className:"w-full p-2 border border-gray-300 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Object.values(i).map((g,j)=>o.jsx("option",{value:g.id,children:g.name},j))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-600 text-sm font-medium mb-2",htmlFor:"category",children:"カテゴリ"}),o.jsx("select",{name:"category_id",id:"category",onChange:p,value:m.category_id,className:"w-full p-2 border border-gray-300 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Object.entries(u).map(([g,j])=>o.jsx("option",{value:g,children:j},`dynamic${g}`))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-600 text-sm font-medium mb-2",htmlFor:"amount",children:"金額"}),o.jsx("input",{type:"number",name:"amount",id:"amount",value:m.amount,onChange:p,className:"w-full p-2 border border-gray-300 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-600 text-sm font-medium mb-2",htmlFor:"memo",children:"メモ"}),o.jsx("textarea",{name:"memo",id:"memo",value:m.memo,onChange:p,className:"w-full p-2 border border-gray-300 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-orange-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"送信"})})]})]})}),$=({householdByExpenditure:y,creditCardExpenditureItem:p,totalExpenditureItem:m})=>o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[o.jsx("h2",{className:"font-bold text-gray-700 mb-2 border-b pb-1",children:"支出内訳"}),o.jsx("div",{className:"divide-y divide-gray-200",children:Object.values(y).map(u=>o.jsxs("div",{className:"flex justify-between items-center py-2",children:[o.jsx("span",{className:"text-gray-600 font-medium text-sm ",children:u.label}),o.jsxs("span",{className:"text-gray-800 font-semibold text-sm",children:["¥",u.value]})]},`category_${u.label}`))}),o.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"支出合計"}),o.jsxs("span",{className:"text-gray-800 font-semibold",children:["¥",m]})]}),o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"うちクレジットカード決済"}),o.jsxs("span",{className:"text-gray-800 font-semibold",children:["¥",p]})]})]}),ee=({householdByIncome:y,totalIncomeItem:p})=>o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[o.jsx("h2",{className:"font-bold text-gray-700 mb-2 border-b pb-1",children:"収入"}),o.jsx("div",{className:"divide-y divide-gray-200",children:Object.values(y).map(m=>o.jsxs("div",{className:"flex justify-between items-center py-2",children:[o.jsx("span",{className:"text-gray-600 font-medium text-sm",children:m.label}),o.jsxs("span",{className:"text-gray-800 font-semibold text-sm",children:["¥",m.value]})]},`category_${m.label}`))}),o.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"収入合計"}),o.jsxs("span",{className:"text-gray-800 font-semibold",children:["¥",p]})]})]}),te=({year:y,month:p,setYear:m,setMonth:u})=>{const[i,h]=b.useState(new Date(y,p-1,1));b.useEffect(()=>{h(new Date(y,p-1,1))},[y,p]);const g=()=>{const x=new Date(i.getFullYear(),i.getMonth()-1,1);h(x);const C=x.getFullYear(),I=x.getMonth()+1;m(C),u(I),window.location.href=`/dashboard?year=${C}&month=${I}`},j=()=>{const x=new Date(i.getFullYear(),i.getMonth()+1,1);h(x);const C=x.getFullYear(),I=x.getMonth()+1;m(C),u(I),window.location.href=`/dashboard?year=${C}&month=${I}`};return o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("button",{onClick:g,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400 focus:outline-none",children:"前月"}),o.jsxs("span",{className:"font-semibold text-gray-700",children:[i.getFullYear(),"年 ",i.getMonth()+1,"月"]}),o.jsx("button",{onClick:j,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400 focus:outline-none",children:"次月"})]})},ne=({householdItems:y,year:p,month:m,setYear:u,setMonth:i})=>o.jsx("div",{className:"overflow-x-auto bg-white h-full rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"lg:min-w-[600px] divide-y divide-gray-200",children:[o.jsxs("div",{className:"flex gap-x-4 py-2 font-medium text-gray-500 border-b",children:[o.jsx("span",{className:"lg:w-[5rem]",children:"日付"}),o.jsx("span",{className:"lg:w-[10rem]",children:"カテゴリ"}),o.jsx("span",{className:"lg:w-[10rem]",children:"支払い方法"}),o.jsx("span",{className:"lg:w-[10rem]",children:"金額"}),o.jsx("span",{className:"lg:flex-1",children:"メモ"})]}),o.jsx("ul",{children:Object.entries(y).map(([h,g])=>o.jsxs("li",{className:`flex flex-wrap p-2 border-b items-center gap-x-4 gap-y-2
                  ${g.category.is_income?"bg-green-100":""}
                  ${g.payment_type.is_credit_card?"bg-sky-100":""}`,children:[o.jsx("p",{className:"lg:w-[5rem] text-gray-800",children:new Date(g.date).toLocaleDateString("ja-JP",{month:"numeric",day:"numeric"})}),o.jsx("p",{className:"lg:w-[10rem] text-gray-800",children:g.category.name}),o.jsx("p",{className:"lg:w-[10rem] text-gray-800",children:g.payment_type.name}),o.jsxs("p",{className:"lg:w-[10rem] text-gray-800 font-semibold",children:["¥",g.amount.toLocaleString()]}),o.jsx("p",{className:"w-full lg:w-min lg:flex-1 text-gray-800 text-sm",children:g.memo})]},h))})]})}),oe=({title:y,year:p,month:m,expenditureCategories:u=[],inComeCategories:i=[],paymentTypes:h=[],households:g=[],householdByExpenditure:j=[],householdByIncome:x=[],creditCardExpenditure:C=0,totalExpenditure:I=0,totalIncome:O=0})=>{const[T,z]=b.useState(p),[D,v]=b.useState(m),[w,B]=b.useState(g),[R,A]=b.useState(u),[F,S]=b.useState(j),[a,n]=b.useState(x),[e,t]=b.useState(C),[r,d]=b.useState(I),[s,l]=b.useState(O),[c,f]=b.useState(()=>{const L=new Date,E=parseInt(L.getUTCFullYear())===parseInt(p)&&parseInt(L.getUTCMonth()+1)===parseInt(m)?new Date(Date.UTC(p,m-1,L.getUTCDate())):new Date(Date.UTC(p,m-1,1));return new Intl.DateTimeFormat("ja-JP",{timeZone:"Asia/Tokyo",year:"numeric",month:"2-digit",day:"2-digit"}).format(E).replace(/\//g,"-")}),q=L=>{const M=L.target.value,E=h.find(N=>N.id===Number(M));E!=null&&E.is_income?A(i):A(u),U(L)};b.useEffect(()=>{_({...H,category_id:Object.keys(R)[0]})},[R]);const[H,_]=b.useState({date:c,category_id:Object.keys(R)[0],payment_type_id:h.length>0?h[0].id:"",amount:1e3,memo:"",year:T,month:D}),U=L=>{const{name:M,value:E}=L.target;_({...H,[M]:E})},Y=async L=>{L.preventDefault();try{const M=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),E=await fetch("/post",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":M},body:JSON.stringify(H)}),N=await E.json();if(!E.ok)throw new Error(N.message);B(N.households),S(N.householdByExpenditure),n(N.householdByIncome),t(N.creditCardExpenditure),d(N.totalExpenditure),l(N.totalIncome),P.success({title:"Success",message:N.message,position:"topRight"})}catch(M){P.error({title:"エラー",message:M.message,position:"topRight"})}};return o.jsxs("div",{className:"bg-orange-100 min-h-screen flex flex-wrap lg:flex-nowrap w-full",children:[o.jsx(K,{title:y}),o.jsx(Q,{handleChange:U,handleSubmit:Y,formData:H,categories:u,dynamicCategories:R,paymentTypes:h,handlePaymentTypeChange:q}),o.jsx("div",{className:"flex-1 w-full",children:o.jsxs("div",{className:"flex flex-wrap 2xl:flex-nowrap h-full gap-2",children:[o.jsx("div",{className:"pr-4 xl:pr-0 py-4 pl-4 w-full 2xl:w-3/12",children:o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx("div",{className:"-mb-4",children:o.jsx(te,{year:T,setYear:z,month:D,setMonth:v})}),o.jsx($,{householdByExpenditure:F,creditCardExpenditureItem:e,totalExpenditureItem:r}),o.jsx(ee,{householdByIncome:a,totalIncomeItem:s})]})}),o.jsx("div",{className:"pl-4 pt-0 pb-4 xl:py-4 xl:pl-2 pr-4 w-full 2xl:w-9/12 h-screen",children:o.jsx(ne,{year:T,setYear:z,month:D,setMonth:v,householdItems:w})})]})})]})};export{oe as default};
